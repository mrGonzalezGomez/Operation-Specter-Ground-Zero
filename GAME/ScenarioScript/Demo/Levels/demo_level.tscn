[gd_scene load_steps=11 format=3 uid="uid://7wpi0ou6lcjp"]

[ext_resource type="Script" uid="uid://cwsy1q16vbx6k" path="res://ScenarioScript/Demo/Player/Player.gd" id="1_ysshg"]
[ext_resource type="Script" uid="uid://dfixrhm2wwg0l" path="res://ScenarioScript/Demo/Enemies/Enemy.gd" id="2_mq6cm"]

[sub_resource type="BoxMesh" id="BoxMesh_5xgho"]

[sub_resource type="BoxShape3D" id="BoxShape3D_u52ul"]
size = Vector3(5, 0.05, 5)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_vonw3"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_oi3di"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_5xgho"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5xgho"]

[sub_resource type="CylinderMesh" id="CylinderMesh_u52ul"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_u52ul"]

[node name="Level" type="Node3D"]

[node name="Floor" type="MeshInstance3D" parent="."]
transform = Transform3D(50, 0, 0, 0, 0.5, 0, 0, 0, 50, 0, 0, 0)
mesh = SubResource("BoxMesh_5xgho")

[node name="Form" type="StaticBody3D" parent="Floor"]

[node name="Hitbox" type="CollisionShape3D" parent="Floor/Form"]
transform = Transform3D(0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, 0, 0, 0)
shape = SubResource("BoxShape3D_u52ul")

[node name="Player" type="CharacterBody3D" parent="." groups=["player"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.1, 1.9144115)
script = ExtResource("1_ysshg")

[node name="FirstPersonCamera" type="Camera3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
current = true
fov = 90.0

[node name="Form" type="MeshInstance3D" parent="Player"]
mesh = SubResource("CapsuleMesh_vonw3")

[node name="Hitbox" type="CollisionShape3D" parent="Player"]
shape = SubResource("CapsuleShape3D_oi3di")

[node name="Enemy" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, -3)
script = ExtResource("2_mq6cm")

[node name="Form" type="MeshInstance3D" parent="Enemy"]
mesh = SubResource("CapsuleMesh_5xgho")

[node name="Hitbox" type="CollisionShape3D" parent="Enemy"]
shape = SubResource("CapsuleShape3D_5xgho")

[node name="VisionCone" type="Area3D" parent="Enemy"]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -0.9419546, 0.4222268, 0)

[node name="Form" type="MeshInstance3D" parent="Enemy/VisionCone"]
transform = Transform3D(-4.3711385e-08, -0.99999994, 0, 0.99999994, -4.3711385e-08, 0, 0, 0, 0.99999994, 0, 0, 0)
mesh = SubResource("CylinderMesh_u52ul")

[node name="Hitbox" type="CollisionShape3D" parent="Enemy/VisionCone"]
transform = Transform3D(-4.371139e-08, 1, -4.371139e-08, 0, -4.371139e-08, -1, -1, -4.371139e-08, 1.9106855e-15, 0, 0, 0)
shape = SubResource("CylinderShape3D_u52ul")

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.77065784, -0.47409645, 0.42581576, 0, 0.6682092, 0.74397343, -0.6372492, -0.57334894, 0.51496065, 4.5295835, 4.244803, 4.2385073)
light_color = Color(0.9969638, 0.89351034, 0.7383069, 1)

[connection signal="body_entered" from="Enemy/VisionCone" to="Player" method="_on_vision_cone_body_entered"]
